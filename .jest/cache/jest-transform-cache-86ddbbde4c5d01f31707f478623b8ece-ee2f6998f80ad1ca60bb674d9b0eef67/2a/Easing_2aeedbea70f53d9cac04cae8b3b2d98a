e70acec52b7b2dcc062bceb025e18934
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _ease;

var Easing = function () {
  function Easing() {
    (0, _classCallCheck2.default)(this, Easing);
  }

  (0, _createClass2.default)(Easing, null, [{
    key: "step0",
    value: function step0(n) {
      return n > 0 ? 1 : 0;
    }
  }, {
    key: "step1",
    value: function step1(n) {
      return n >= 1 ? 1 : 0;
    }
  }, {
    key: "linear",
    value: function linear(t) {
      return t;
    }
  }, {
    key: "ease",
    value: function ease(t) {
      if (!_ease) {
        _ease = Easing.bezier(0.42, 0, 1, 1);
      }

      return _ease(t);
    }
  }, {
    key: "quad",
    value: function quad(t) {
      return t * t;
    }
  }, {
    key: "cubic",
    value: function cubic(t) {
      return t * t * t;
    }
  }, {
    key: "poly",
    value: function poly(n) {
      return function (t) {
        return Math.pow(t, n);
      };
    }
  }, {
    key: "sin",
    value: function sin(t) {
      return 1 - Math.cos(t * Math.PI / 2);
    }
  }, {
    key: "circle",
    value: function circle(t) {
      return 1 - Math.sqrt(1 - t * t);
    }
  }, {
    key: "exp",
    value: function exp(t) {
      return Math.pow(2, 10 * (t - 1));
    }
  }, {
    key: "elastic",
    value: function elastic() {
      var bounciness = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var p = bounciness * Math.PI;
      return function (t) {
        return 1 - Math.pow(Math.cos(t * Math.PI / 2), 3) * Math.cos(t * p);
      };
    }
  }, {
    key: "back",
    value: function back() {
      var s = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1.70158;
      return function (t) {
        return t * t * ((s + 1) * t - s);
      };
    }
  }, {
    key: "bounce",
    value: function bounce(t) {
      if (t < 1 / 2.75) {
        return 7.5625 * t * t;
      }

      if (t < 2 / 2.75) {
        var _t = t - 1.5 / 2.75;

        return 7.5625 * _t * _t + 0.75;
      }

      if (t < 2.5 / 2.75) {
        var _t2 = t - 2.25 / 2.75;

        return 7.5625 * _t2 * _t2 + 0.9375;
      }

      var t2 = t - 2.625 / 2.75;
      return 7.5625 * t2 * t2 + 0.984375;
    }
  }, {
    key: "bezier",
    value: function bezier(x1, y1, x2, y2) {
      var _bezier = require('bezier');

      return _bezier(x1, y1, x2, y2);
    }
  }, {
    key: "in",
    value: function _in(easing) {
      return easing;
    }
  }, {
    key: "out",
    value: function out(easing) {
      return function (t) {
        return 1 - easing(1 - t);
      };
    }
  }, {
    key: "inOut",
    value: function inOut(easing) {
      return function (t) {
        if (t < 0.5) {
          return easing(t * 2) / 2;
        }

        return 1 - easing((1 - t) * 2) / 2;
      };
    }
  }]);
  return Easing;
}();

module.exports = Easing;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVhc2luZy5qcyJdLCJuYW1lcyI6WyJlYXNlIiwiRWFzaW5nIiwibiIsInQiLCJiZXppZXIiLCJNYXRoIiwicG93IiwiY29zIiwiUEkiLCJzcXJ0IiwiYm91bmNpbmVzcyIsInAiLCJzIiwidDIiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIl9iZXppZXIiLCJyZXF1aXJlIiwiZWFzaW5nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUE7Ozs7Ozs7O0FBRUEsSUFBSUEsS0FBSjs7SUErQ01DLE07Ozs7Ozs7MEJBSVNDLEMsRUFBVztBQUN0QixhQUFPQSxDQUFDLEdBQUcsQ0FBSixHQUFRLENBQVIsR0FBWSxDQUFuQjtBQUNEOzs7MEJBS1lBLEMsRUFBVztBQUN0QixhQUFPQSxDQUFDLElBQUksQ0FBTCxHQUFTLENBQVQsR0FBYSxDQUFwQjtBQUNEOzs7MkJBUWFDLEMsRUFBVztBQUN2QixhQUFPQSxDQUFQO0FBQ0Q7Ozt5QkFRV0EsQyxFQUFtQjtBQUM3QixVQUFJLENBQUNILEtBQUwsRUFBVztBQUNUQSxRQUFBQSxLQUFJLEdBQUdDLE1BQU0sQ0FBQ0csTUFBUCxDQUFjLElBQWQsRUFBb0IsQ0FBcEIsRUFBdUIsQ0FBdkIsRUFBMEIsQ0FBMUIsQ0FBUDtBQUNEOztBQUNELGFBQU9KLEtBQUksQ0FBQ0csQ0FBRCxDQUFYO0FBQ0Q7Ozt5QkFRV0EsQyxFQUFXO0FBQ3JCLGFBQU9BLENBQUMsR0FBR0EsQ0FBWDtBQUNEOzs7MEJBUVlBLEMsRUFBVztBQUN0QixhQUFPQSxDQUFDLEdBQUdBLENBQUosR0FBUUEsQ0FBZjtBQUNEOzs7eUJBUVdELEMsRUFBVztBQUNyQixhQUFPLFVBQUNDLENBQUQ7QUFBQSxlQUFlRSxJQUFJLENBQUNDLEdBQUwsQ0FBU0gsQ0FBVCxFQUFZRCxDQUFaLENBQWY7QUFBQSxPQUFQO0FBQ0Q7Ozt3QkFPVUMsQyxFQUFXO0FBQ3BCLGFBQU8sSUFBSUUsSUFBSSxDQUFDRSxHQUFMLENBQVVKLENBQUMsR0FBR0UsSUFBSSxDQUFDRyxFQUFWLEdBQWdCLENBQXpCLENBQVg7QUFDRDs7OzJCQU9hTCxDLEVBQVc7QUFDdkIsYUFBTyxJQUFJRSxJQUFJLENBQUNJLElBQUwsQ0FBVSxJQUFJTixDQUFDLEdBQUdBLENBQWxCLENBQVg7QUFDRDs7O3dCQU9VQSxDLEVBQVc7QUFDcEIsYUFBT0UsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZLE1BQU1ILENBQUMsR0FBRyxDQUFWLENBQVosQ0FBUDtBQUNEOzs7OEJBWTZEO0FBQUEsVUFBL0NPLFVBQStDLHVFQUExQixDQUEwQjtBQUM1RCxVQUFNQyxDQUFDLEdBQUdELFVBQVUsR0FBR0wsSUFBSSxDQUFDRyxFQUE1QjtBQUNBLGFBQU8sVUFBQUwsQ0FBQztBQUFBLGVBQUksSUFBSUUsSUFBSSxDQUFDQyxHQUFMLENBQVNELElBQUksQ0FBQ0UsR0FBTCxDQUFVSixDQUFDLEdBQUdFLElBQUksQ0FBQ0csRUFBVixHQUFnQixDQUF6QixDQUFULEVBQXNDLENBQXRDLElBQTJDSCxJQUFJLENBQUNFLEdBQUwsQ0FBU0osQ0FBQyxHQUFHUSxDQUFiLENBQW5EO0FBQUEsT0FBUjtBQUNEOzs7MkJBVXVEO0FBQUEsVUFBNUNDLENBQTRDLHVFQUFoQyxPQUFnQztBQUN0RCxhQUFPLFVBQUFULENBQUM7QUFBQSxlQUFJQSxDQUFDLEdBQUdBLENBQUosSUFBUyxDQUFDUyxDQUFDLEdBQUcsQ0FBTCxJQUFVVCxDQUFWLEdBQWNTLENBQXZCLENBQUo7QUFBQSxPQUFSO0FBQ0Q7OzsyQkFPYVQsQyxFQUFtQjtBQUMvQixVQUFJQSxDQUFDLEdBQUcsSUFBSSxJQUFaLEVBQWtCO0FBQ2hCLGVBQU8sU0FBU0EsQ0FBVCxHQUFhQSxDQUFwQjtBQUNEOztBQUVELFVBQUlBLENBQUMsR0FBRyxJQUFJLElBQVosRUFBa0I7QUFDaEIsWUFBTVUsRUFBRSxHQUFHVixDQUFDLEdBQUcsTUFBTSxJQUFyQjs7QUFDQSxlQUFPLFNBQVNVLEVBQVQsR0FBY0EsRUFBZCxHQUFtQixJQUExQjtBQUNEOztBQUVELFVBQUlWLENBQUMsR0FBRyxNQUFNLElBQWQsRUFBb0I7QUFDbEIsWUFBTVUsR0FBRSxHQUFHVixDQUFDLEdBQUcsT0FBTyxJQUF0Qjs7QUFDQSxlQUFPLFNBQVNVLEdBQVQsR0FBY0EsR0FBZCxHQUFtQixNQUExQjtBQUNEOztBQUVELFVBQU1BLEVBQUUsR0FBR1YsQ0FBQyxHQUFHLFFBQVEsSUFBdkI7QUFDQSxhQUFPLFNBQVNVLEVBQVQsR0FBY0EsRUFBZCxHQUFtQixRQUExQjtBQUNEOzs7MkJBVUNDLEUsRUFDQUMsRSxFQUNBQyxFLEVBQ0FDLEUsRUFDdUI7QUFDdkIsVUFBTUMsT0FBTyxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUF2Qjs7QUFDQSxhQUFPRCxPQUFPLENBQUNKLEVBQUQsRUFBS0MsRUFBTCxFQUFTQyxFQUFULEVBQWFDLEVBQWIsQ0FBZDtBQUNEOzs7d0JBS1NHLE0sRUFBc0Q7QUFDOUQsYUFBT0EsTUFBUDtBQUNEOzs7d0JBS1VBLE0sRUFBc0Q7QUFDL0QsYUFBTyxVQUFBakIsQ0FBQztBQUFBLGVBQUksSUFBSWlCLE1BQU0sQ0FBQyxJQUFJakIsQ0FBTCxDQUFkO0FBQUEsT0FBUjtBQUNEOzs7MEJBT1lpQixNLEVBQXNEO0FBQ2pFLGFBQU8sVUFBQWpCLENBQUMsRUFBSTtBQUNWLFlBQUlBLENBQUMsR0FBRyxHQUFSLEVBQWE7QUFDWCxpQkFBT2lCLE1BQU0sQ0FBQ2pCLENBQUMsR0FBRyxDQUFMLENBQU4sR0FBZ0IsQ0FBdkI7QUFDRDs7QUFDRCxlQUFPLElBQUlpQixNQUFNLENBQUMsQ0FBQyxJQUFJakIsQ0FBTCxJQUFVLENBQVgsQ0FBTixHQUFzQixDQUFqQztBQUNELE9BTEQ7QUFNRDs7Ozs7QUFHSGtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvdyBzdHJpY3RcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmxldCBlYXNlO1xuXG4vKipcbiAqIFRoZSBgRWFzaW5nYCBtb2R1bGUgaW1wbGVtZW50cyBjb21tb24gZWFzaW5nIGZ1bmN0aW9ucy4gVGhpcyBtb2R1bGUgaXMgdXNlZFxuICogYnkgW0FuaW1hdGUudGltaW5nKCldKGRvY3MvYW5pbWF0ZS5odG1sI3RpbWluZykgdG8gY29udmV5IHBoeXNpY2FsbHlcbiAqIGJlbGlldmFibGUgbW90aW9uIGluIGFuaW1hdGlvbnMuXG4gKlxuICogWW91IGNhbiBmaW5kIGEgdmlzdWFsaXphdGlvbiBvZiBzb21lIGNvbW1vbiBlYXNpbmcgZnVuY3Rpb25zIGF0XG4gKiBodHRwOi8vZWFzaW5ncy5uZXQvXG4gKlxuICogIyMjIFByZWRlZmluZWQgYW5pbWF0aW9uc1xuICpcbiAqIFRoZSBgRWFzaW5nYCBtb2R1bGUgcHJvdmlkZXMgc2V2ZXJhbCBwcmVkZWZpbmVkIGFuaW1hdGlvbnMgdGhyb3VnaCB0aGVcbiAqIGZvbGxvd2luZyBtZXRob2RzOlxuICpcbiAqIC0gW2BiYWNrYF0oZG9jcy9lYXNpbmcuaHRtbCNiYWNrKSBwcm92aWRlcyBhIHNpbXBsZSBhbmltYXRpb24gd2hlcmUgdGhlXG4gKiAgIG9iamVjdCBnb2VzIHNsaWdodGx5IGJhY2sgYmVmb3JlIG1vdmluZyBmb3J3YXJkXG4gKiAtIFtgYm91bmNlYF0oZG9jcy9lYXNpbmcuaHRtbCNib3VuY2UpIHByb3ZpZGVzIGEgYm91bmNpbmcgYW5pbWF0aW9uXG4gKiAtIFtgZWFzZWBdKGRvY3MvZWFzaW5nLmh0bWwjZWFzZSkgcHJvdmlkZXMgYSBzaW1wbGUgaW5lcnRpYWwgYW5pbWF0aW9uXG4gKiAtIFtgZWxhc3RpY2BdKGRvY3MvZWFzaW5nLmh0bWwjZWxhc3RpYykgcHJvdmlkZXMgYSBzaW1wbGUgc3ByaW5nIGludGVyYWN0aW9uXG4gKlxuICogIyMjIFN0YW5kYXJkIGZ1bmN0aW9uc1xuICpcbiAqIFRocmVlIHN0YW5kYXJkIGVhc2luZyBmdW5jdGlvbnMgYXJlIHByb3ZpZGVkOlxuICpcbiAqIC0gW2BsaW5lYXJgXShkb2NzL2Vhc2luZy5odG1sI2xpbmVhcilcbiAqIC0gW2BxdWFkYF0oZG9jcy9lYXNpbmcuaHRtbCNxdWFkKVxuICogLSBbYGN1YmljYF0oZG9jcy9lYXNpbmcuaHRtbCNjdWJpYylcbiAqXG4gKiBUaGUgW2Bwb2x5YF0oZG9jcy9lYXNpbmcuaHRtbCNwb2x5KSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBpbXBsZW1lbnRcbiAqIHF1YXJ0aWMsIHF1aW50aWMsIGFuZCBvdGhlciBoaWdoZXIgcG93ZXIgZnVuY3Rpb25zLlxuICpcbiAqICMjIyBBZGRpdGlvbmFsIGZ1bmN0aW9uc1xuICpcbiAqIEFkZGl0aW9uYWwgbWF0aGVtYXRpY2FsIGZ1bmN0aW9ucyBhcmUgcHJvdmlkZWQgYnkgdGhlIGZvbGxvd2luZyBtZXRob2RzOlxuICpcbiAqIC0gW2BiZXppZXJgXShkb2NzL2Vhc2luZy5odG1sI2JlemllcikgcHJvdmlkZXMgYSBjdWJpYyBiZXppZXIgY3VydmVcbiAqIC0gW2BjaXJjbGVgXShkb2NzL2Vhc2luZy5odG1sI2NpcmNsZSkgcHJvdmlkZXMgYSBjaXJjdWxhciBmdW5jdGlvblxuICogLSBbYHNpbmBdKGRvY3MvZWFzaW5nLmh0bWwjc2luKSBwcm92aWRlcyBhIHNpbnVzb2lkYWwgZnVuY3Rpb25cbiAqIC0gW2BleHBgXShkb2NzL2Vhc2luZy5odG1sI2V4cCkgcHJvdmlkZXMgYW4gZXhwb25lbnRpYWwgZnVuY3Rpb25cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGhlbHBlcnMgYXJlIHVzZWQgdG8gbW9kaWZ5IG90aGVyIGVhc2luZyBmdW5jdGlvbnMuXG4gKlxuICogLSBbYGluYF0oZG9jcy9lYXNpbmcuaHRtbCNpbikgcnVucyBhbiBlYXNpbmcgZnVuY3Rpb24gZm9yd2FyZHNcbiAqIC0gW2Bpbk91dGBdKGRvY3MvZWFzaW5nLmh0bWwjaW5vdXQpIG1ha2VzIGFueSBlYXNpbmcgZnVuY3Rpb24gc3ltbWV0cmljYWxcbiAqIC0gW2BvdXRgXShkb2NzL2Vhc2luZy5odG1sI291dCkgcnVucyBhbiBlYXNpbmcgZnVuY3Rpb24gYmFja3dhcmRzXG4gKi9cbmNsYXNzIEVhc2luZyB7XG4gIC8qKlxuICAgKiBBIHN0ZXBwaW5nIGZ1bmN0aW9uLCByZXR1cm5zIDEgZm9yIGFueSBwb3NpdGl2ZSB2YWx1ZSBvZiBgbmAuXG4gICAqL1xuICBzdGF0aWMgc3RlcDAobjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIG4gPiAwID8gMSA6IDA7XG4gIH1cblxuICAvKipcbiAgICogQSBzdGVwcGluZyBmdW5jdGlvbiwgcmV0dXJucyAxIGlmIGBuYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMS5cbiAgICovXG4gIHN0YXRpYyBzdGVwMShuOiBudW1iZXIpIHtcbiAgICByZXR1cm4gbiA+PSAxID8gMSA6IDA7XG4gIH1cblxuICAvKipcbiAgICogQSBsaW5lYXIgZnVuY3Rpb24sIGBmKHQpID0gdGAuIFBvc2l0aW9uIGNvcnJlbGF0ZXMgdG8gZWxhcHNlZCB0aW1lIG9uZSB0b1xuICAgKiBvbmUuXG4gICAqXG4gICAqIGh0dHA6Ly9jdWJpYy1iZXppZXIuY29tLyMwLDAsMSwxXG4gICAqL1xuICBzdGF0aWMgbGluZWFyKHQ6IG51bWJlcikge1xuICAgIHJldHVybiB0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc2ltcGxlIGluZXJ0aWFsIGludGVyYWN0aW9uLCBzaW1pbGFyIHRvIGFuIG9iamVjdCBzbG93bHkgYWNjZWxlcmF0aW5nIHRvXG4gICAqIHNwZWVkLlxuICAgKlxuICAgKiBodHRwOi8vY3ViaWMtYmV6aWVyLmNvbS8jLjQyLDAsMSwxXG4gICAqL1xuICBzdGF0aWMgZWFzZSh0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICghZWFzZSkge1xuICAgICAgZWFzZSA9IEVhc2luZy5iZXppZXIoMC40MiwgMCwgMSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBlYXNlKHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgcXVhZHJhdGljIGZ1bmN0aW9uLCBgZih0KSA9IHQgKiB0YC4gUG9zaXRpb24gZXF1YWxzIHRoZSBzcXVhcmUgb2YgZWxhcHNlZFxuICAgKiB0aW1lLlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblF1YWRcbiAgICovXG4gIHN0YXRpYyBxdWFkKHQ6IG51bWJlcikge1xuICAgIHJldHVybiB0ICogdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGN1YmljIGZ1bmN0aW9uLCBgZih0KSA9IHQgKiB0ICogdGAuIFBvc2l0aW9uIGVxdWFscyB0aGUgY3ViZSBvZiBlbGFwc2VkXG4gICAqIHRpbWUuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQ3ViaWNcbiAgICovXG4gIHN0YXRpYyBjdWJpYyh0OiBudW1iZXIpIHtcbiAgICByZXR1cm4gdCAqIHQgKiB0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgcG93ZXIgZnVuY3Rpb24uIFBvc2l0aW9uIGlzIGVxdWFsIHRvIHRoZSBOdGggcG93ZXIgb2YgZWxhcHNlZCB0aW1lLlxuICAgKlxuICAgKiBuID0gNDogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5RdWFydFxuICAgKiBuID0gNTogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5RdWludFxuICAgKi9cbiAgc3RhdGljIHBvbHkobjogbnVtYmVyKSB7XG4gICAgcmV0dXJuICh0OiBudW1iZXIpID0+IE1hdGgucG93KHQsIG4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc2ludXNvaWRhbCBmdW5jdGlvbi5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5TaW5lXG4gICAqL1xuICBzdGF0aWMgc2luKHQ6IG51bWJlcikge1xuICAgIHJldHVybiAxIC0gTWF0aC5jb3MoKHQgKiBNYXRoLlBJKSAvIDIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgY2lyY3VsYXIgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQ2lyY1xuICAgKi9cbiAgc3RhdGljIGNpcmNsZSh0OiBudW1iZXIpIHtcbiAgICByZXR1cm4gMSAtIE1hdGguc3FydCgxIC0gdCAqIHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIGV4cG9uZW50aWFsIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJbkV4cG9cbiAgICovXG4gIHN0YXRpYyBleHAodDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSk7XG4gIH1cblxuICAvKipcbiAgICogQSBzaW1wbGUgZWxhc3RpYyBpbnRlcmFjdGlvbiwgc2ltaWxhciB0byBhIHNwcmluZyBvc2NpbGxhdGluZyBiYWNrIGFuZFxuICAgKiBmb3J0aC5cbiAgICpcbiAgICogRGVmYXVsdCBib3VuY2luZXNzIGlzIDEsIHdoaWNoIG92ZXJzaG9vdHMgYSBsaXR0bGUgYml0IG9uY2UuIDAgYm91bmNpbmVzc1xuICAgKiBkb2Vzbid0IG92ZXJzaG9vdCBhdCBhbGwsIGFuZCBib3VuY2luZXNzIG9mIE4gPiAxIHdpbGwgb3ZlcnNob290IGFib3V0IE5cbiAgICogdGltZXMuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluRWxhc3RpY1xuICAgKi9cbiAgc3RhdGljIGVsYXN0aWMoYm91bmNpbmVzczogbnVtYmVyID0gMSk6ICh0OiBudW1iZXIpID0+IG51bWJlciB7XG4gICAgY29uc3QgcCA9IGJvdW5jaW5lc3MgKiBNYXRoLlBJO1xuICAgIHJldHVybiB0ID0+IDEgLSBNYXRoLnBvdyhNYXRoLmNvcygodCAqIE1hdGguUEkpIC8gMiksIDMpICogTWF0aC5jb3ModCAqIHApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZSB3aXRoIGBBbmltYXRlZC5wYXJhbGxlbCgpYCB0byBjcmVhdGUgYSBzaW1wbGUgZWZmZWN0IHdoZXJlIHRoZSBvYmplY3RcbiAgICogYW5pbWF0ZXMgYmFjayBzbGlnaHRseSBhcyB0aGUgYW5pbWF0aW9uIHN0YXJ0cy5cbiAgICpcbiAgICogV29sZnJhbSBQbG90OlxuICAgKlxuICAgKiAtIGh0dHA6Ly90aW55LmNjL2JhY2tfZGVmYXVsdCAocyA9IDEuNzAxNTgsIGRlZmF1bHQpXG4gICAqL1xuICBzdGF0aWMgYmFjayhzOiBudW1iZXIgPSAxLjcwMTU4KTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICByZXR1cm4gdCA9PiB0ICogdCAqICgocyArIDEpICogdCAtIHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgc2ltcGxlIGJvdW5jaW5nIGVmZmVjdC5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5Cb3VuY2VcbiAgICovXG4gIHN0YXRpYyBib3VuY2UodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAodCA8IDEgLyAyLjc1KSB7XG4gICAgICByZXR1cm4gNy41NjI1ICogdCAqIHQ7XG4gICAgfVxuXG4gICAgaWYgKHQgPCAyIC8gMi43NSkge1xuICAgICAgY29uc3QgdDIgPSB0IC0gMS41IC8gMi43NTtcbiAgICAgIHJldHVybiA3LjU2MjUgKiB0MiAqIHQyICsgMC43NTtcbiAgICB9XG5cbiAgICBpZiAodCA8IDIuNSAvIDIuNzUpIHtcbiAgICAgIGNvbnN0IHQyID0gdCAtIDIuMjUgLyAyLjc1O1xuICAgICAgcmV0dXJuIDcuNTYyNSAqIHQyICogdDIgKyAwLjkzNzU7XG4gICAgfVxuXG4gICAgY29uc3QgdDIgPSB0IC0gMi42MjUgLyAyLjc1O1xuICAgIHJldHVybiA3LjU2MjUgKiB0MiAqIHQyICsgMC45ODQzNzU7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBjdWJpYyBiZXppZXIgY3VydmUsIGVxdWl2YWxlbnQgdG8gQ1NTIFRyYW5zaXRpb25zJ1xuICAgKiBgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25gLlxuICAgKlxuICAgKiBBIHVzZWZ1bCB0b29sIHRvIHZpc3VhbGl6ZSBjdWJpYyBiZXppZXIgY3VydmVzIGNhbiBiZSBmb3VuZCBhdFxuICAgKiBodHRwOi8vY3ViaWMtYmV6aWVyLmNvbS9cbiAgICovXG4gIHN0YXRpYyBiZXppZXIoXG4gICAgeDE6IG51bWJlcixcbiAgICB5MTogbnVtYmVyLFxuICAgIHgyOiBudW1iZXIsXG4gICAgeTI6IG51bWJlcixcbiAgKTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICBjb25zdCBfYmV6aWVyID0gcmVxdWlyZSgnYmV6aWVyJyk7XG4gICAgcmV0dXJuIF9iZXppZXIoeDEsIHkxLCB4MiwgeTIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGZvcndhcmRzLlxuICAgKi9cbiAgc3RhdGljIGluKGVhc2luZzogKHQ6IG51bWJlcikgPT4gbnVtYmVyKTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICByZXR1cm4gZWFzaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGJhY2t3YXJkcy5cbiAgICovXG4gIHN0YXRpYyBvdXQoZWFzaW5nOiAodDogbnVtYmVyKSA9PiBudW1iZXIpOiAodDogbnVtYmVyKSA9PiBudW1iZXIge1xuICAgIHJldHVybiB0ID0+IDEgLSBlYXNpbmcoMSAtIHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIGFueSBlYXNpbmcgZnVuY3Rpb24gc3ltbWV0cmljYWwuIFRoZSBlYXNpbmcgZnVuY3Rpb24gd2lsbCBydW5cbiAgICogZm9yd2FyZHMgZm9yIGhhbGYgb2YgdGhlIGR1cmF0aW9uLCB0aGVuIGJhY2t3YXJkcyBmb3IgdGhlIHJlc3Qgb2YgdGhlXG4gICAqIGR1cmF0aW9uLlxuICAgKi9cbiAgc3RhdGljIGluT3V0KGVhc2luZzogKHQ6IG51bWJlcikgPT4gbnVtYmVyKTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICByZXR1cm4gdCA9PiB7XG4gICAgICBpZiAodCA8IDAuNSkge1xuICAgICAgICByZXR1cm4gZWFzaW5nKHQgKiAyKSAvIDI7XG4gICAgICB9XG4gICAgICByZXR1cm4gMSAtIGVhc2luZygoMSAtIHQpICogMikgLyAyO1xuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFYXNpbmc7XG4iXX0=