c57c55dafdabd6ed139d76d67268c8f3
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _extends2 = require("@babel/runtime/helpers/interopRequireDefault")(require("@babel/runtime/helpers/extends"));var _classCallCheck2 = require("@babel/runtime/helpers/interopRequireDefault")(require("@babel/runtime/helpers/classCallCheck"));var _createClass2 = require("@babel/runtime/helpers/interopRequireDefault")(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2 = require("@babel/runtime/helpers/interopRequireDefault")(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf3 = require("@babel/runtime/helpers/interopRequireDefault")(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2 = require("@babel/runtime/helpers/interopRequireDefault")(require("@babel/runtime/helpers/inherits"));var _react = require("@babel/runtime/helpers/interopRequireDefault")(require("react"));var _invariant = require("@babel/runtime/helpers/interopRequireDefault")(require("../utils/invariant"));var _jsxFileName = "/Users/brentvatne/coding/react-navigation-core/src/navigators/createNavigator.js";function createNavigator(NavigatorView, router, navigationConfig) {var Navigator = function (_React$Component) {(0, _inherits2.default)(Navigator, _React$Component);function Navigator() {var _getPrototypeOf2;var _this;(0, _classCallCheck2.default)(this, Navigator);for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}_this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(Navigator)).call.apply(_getPrototypeOf2, [this].concat(args)));_this.state = { descriptors: {}, screenProps: _this.props.screenProps };return _this;}(0, _createClass2.default)(Navigator, [{ key: "render", value: function render() {return _react.default.createElement(NavigatorView, (0, _extends2.default)({}, this.props, { screenProps: this.state.screenProps, navigation: this.props.navigation, navigationConfig: navigationConfig, descriptors: this.state.descriptors, __source: { fileName: _jsxFileName, lineNumber: 61 } }));} }], [{ key: "getDerivedStateFromProps", value: function getDerivedStateFromProps(nextProps, prevState) {var prevDescriptors = prevState.descriptors;var navigation = nextProps.navigation,screenProps = nextProps.screenProps;(0, _invariant.default)(navigation != null, 'The navigation prop is missing for this navigator. In react-navigation 3 you must set up your app container directly. More info: https://reactnavigation.org/docs/en/app-containers.html');var state = navigation.state;var routes = state.routes;if (typeof routes === 'undefined') {throw new TypeError('No "routes" found in navigation state. Did you try to pass the navigation prop of a React component to a Navigator child? See https://reactnavigation.org/docs/en/custom-navigators.html#navigator-navigation-prop');}var descriptors = {};routes.forEach(function (route) {if (prevDescriptors && prevDescriptors[route.key] && route === prevDescriptors[route.key].state && screenProps === prevState.screenProps) {descriptors[route.key] = prevDescriptors[route.key];return;}var getComponent = router.getComponentForRouteName.bind(null, route.routeName);var childNavigation = navigation.getChildNavigation(route.key);var options = router.getScreenOptions(childNavigation, screenProps);descriptors[route.key] = { key: route.key, getComponent: getComponent, options: options, state: route, navigation: childNavigation };});return { descriptors: descriptors, screenProps: screenProps };} }]);return Navigator;}(_react.default.Component);Navigator.router = router;Navigator.navigationOptions = navigationConfig.navigationOptions;return Navigator;}var _default = createNavigator;exports.default = _default;